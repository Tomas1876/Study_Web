<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
		let checkflag = "false"; // 왜 blooean 값으로 주지 않고 문자열로 주었는지 질문하기
		
		function checkForm(){
			
			let list = document.myform.list;
			// list라는 변수는 도큐먼트에서 myform이라는 name을 가진 것에 접근한다
			// 그리고 그 안에서 name이 list인 것을 찾아 그 주소값을 let list에 담는다
			// myform 안에 list라는 name이 여러 개 있으니 지금 let list는 배열을 담고 있다.
			
			console.log(list);
			// 콘솔에 list의 값을 모두 뿌린다

			console.log(list.length);
			// 콘솔에 list 배열의 길이를 뿌린다
			
			// 위에서 선언한 전역함수 checkflag가 "false"라면 if절 실행
			if(checkflag == "false"){
				
				for(let index in list){ // java의 for문과 같은 뜻
					// index라는 변수가 list의 길이만큼 도는 동안
					
					console.log(list[index]);
					//콘솔에 list[0]부터 list[length-1]까지의 값을 출력한다
					
				    list[index].checked=true;
					// list의 index번째 칸의 값은 true가 된다
					// 즉 체크박스에 체크된다
					// index가 list배열의 모든 칸의 값을 다 도니까
					// 결국 전체 체크(선택)
				 
				}
				checkflag="true";
				// 전체 선택을 하고 나면 false여서 if절을 발동시켰던 변수
				// checkflag의 값을 바꿔준다
				
				return "[선택해제하기]"
				// 이 checkForm()이라는 함수가 호출된 button의 value값에 "[선택해제하기]"를 리턴한다
				
			}else{
				// 만약 checkflag가 "false" 값이 이 구절 실행
				
				for(let index in list){ 
				    list[index].checked=false;
				    //선택을 해제한다
				}
				checkflag="false";
				return "[전체선택]"
			}
		}
		
		function checkForm2(list){
			console.log(list);
			return "return";
		}
	</script>
</head>

<body>
	<form action="" name="myform">
		좋아하는 과목은 : <br> 
		<input type="checkbox" name="list" value=" java">JAVA<br>
		<input type="checkbox" name="list" value=" oracle">ORACLE<br>
		<input type="checkbox" name="list" value=" html">HTML<br>
		<input type="checkbox" name="list" value=" css">CSS<br> 
		<input type="checkbox" name="list" value=" script">SCRIPT<br> 
		<input type="button" value="[전체선택] " onclick="this.value = checkForm()"><br>
		<br> <input type="button" value="[전체선택] " 	onclick="this.value = checkForm2(this.form.list)"><br>
	</form>
</body>
</html>