<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style type="text/css">
		table , tr , td {
			border: 1px solid blue;
			border-collapse: collapse;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">
		//$(document).ready(function(){}); 이건 필요에 따라 쓰는 것!

		//일반적인 javascript함수
		function javascriptFunc(){
			let arrayobj = [];
			//1. arrayobj 배열에 아래처럼 객체를 추가하세요
			/*
				101th 홍길동 10
				102th 김유신 20
				....을
				[{},{},{}] 이렇게 객체 배열로 생성하세요
				property 예는 th:101th, name:홍길동, age:10
			*/
			$("table > tbody > tr").each(function(){
				//console.log(this); //이러면 한 번 돌 때마다 한 tr의 td를 통째로 들고 온다
				// 우리가 원하는 건 각 td의 text를 쪼개서 넣는 것이기 때문에 한 층 더 파고들 필요가 있다
				
				//console.log($(this).children());
				console.log($(this).children().eq(0).text());
				console.log($(this).children().eq(1).text());
				console.log($(this).children().eq(2).text());

				arrayobj.push( // each안에서 push했기 때문에 알아서 3번 실행된다
					{
						th:$(this).children().eq(0).text(),
						name:$(this).children().eq(1).text(),
						age:$(this).children().eq(2).text()
					}
				);

			});

			console.log(arrayobj);

			//2. 결과를 javascript for문을 통해서 화면 출력
			let output="";
			for(let i =0; i < arrayobj.length; i++){
				output += arrayobj[i].th + ", " +
						  arrayobj[i].name + ", " +
						  arrayobj[i].age + "<br>";
			}

			$("#display").append(output);

			// 2-2 개선된 for문
			for(let index in arrayobj){
				console.log(arrayobj[index].th);
			}

			// 2-3. j쿼리 each
			$.each(arrayobj, function(index,obj){
				$("#display2").append(obj.th + ", " + obj.name + ", " + obj.age+"<br>");
			}); 

		}
	</script>
</head>
<body>
	<table>
		<thead>
			<tr>
				<td>기수</td><td>이름</td><td>번호</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>101th</td><td>홍길동</td><td>10</td>
			</tr>
			<tr>
				<td>102th</td><td>김유신</td><td>20</td>
			</tr>
			<tr>
				<td>103th</td><td>유관순</td><td>30</td>
			</tr>
		</tbody>
	</table>
	<p>
		<button onclick="javascriptFunc()">함수호출</button>
	</p>
	<div id="display"></div>
	<div id="display2"></div>
</body>
</html>




